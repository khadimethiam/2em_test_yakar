<div class="modal-overlay" *ngIf="isModalOpen">
    <div class="modal-container">
      <button class="close-button" (click)="closeModal()">&#10005;</button>
      
      <div class="modal-header">
        <!-- Image de l'utilisateur -->
        <img class="user-photo" [src]="userForm.get('photo')?.value || 'default-avatar.png'" alt="Photo utilisateur">
        <button *ngIf="!isEditing" class="edit-photo" (click)="toggleEditing()">✏️</button>
      </div>
  
      <form [formGroup]="userForm" (ngSubmit)="saveChanges()">
        <div class="form-group">
          <label>Prénom :</label>
          <input
            type="text"
            formControlName="prenom"
            [disabled]="!isEditing"
            [class.read-only]="!isEditing"
          />
          <span class="error" *ngIf="userForm.get('prenom')?.invalid && userForm.get('prenom')?.touched">
            Prénom invalide.
          </span>
        </div>
  
        <div class="form-group">
          <label>Nom :</label>
          <input
            type="text"
            formControlName="nom"
            [disabled]="!isEditing"
            [class.read-only]="!isEditing"
          />
          <span class="error" *ngIf="userForm.get('nom')?.invalid && userForm.get('nom')?.touched">
            Nom invalide.
          </span>
        </div>
  
        <div class="form-group">
          <label>Email :</label>
          <input
            type="email"
            formControlName="email"
            [disabled]="!isEditing"
            [class.read-only]="!isEditing"
          />
          <span class="error" *ngIf="userForm.get('email')?.invalid && userForm.get('email')?.touched">
            Email invalide.
          </span>
        </div>
  
        <div class="form-group">
          <label>Téléphone :</label>
          <input
            type="tel"
            formControlName="telephone"
            [disabled]="!isEditing"
            [class.read-only]="!isEditing"
          />
          <span class="error" *ngIf="userForm.get('telephone')?.invalid && userForm.get('telephone')?.touched">
            Numéro de téléphone invalide.
          </span>
        </div>
  
        <!-- <div class="form-group">
          <label>Role :</label>
          <input
            type="text"
            formControlName="role"
            [disabled]="!isEditing"
            [class.read-only]="!isEditing"
          />
        </div> -->
  
        <!-- Bouton de mise à jour -->
        <div class="form-actions">
          <button
            type="submit"
            class="update-button"
            [disabled]="!isEditing || userForm.invalid">
            Mettre à jour
          </button>
        </div>
      </form>
    </div>
  </div>
  